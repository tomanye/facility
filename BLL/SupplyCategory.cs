
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using DAL;
using System.Data;

namespace BLL
{
	public class SupplyCategory : _SupplyCategory
	{
		public SupplyCategory()
		{
		
		}
        /***
         * Concatinates U on ID
         * */
        public DataTable GetAllSupplyCategories()
        {
            string query = "select 'U' + cast(ID as varchar) as ID, Name, 'U' + cast(ParentId as varchar ) as Parent from SupplyCategory";
            this.LoadFromRawSql(query);
            return this.DataTable;
        }

        public DataTable GetMainCategory()
        {
            this.FlushData();
            this.LoadFromRawSql(String.Format("SELECT * FROM SupplyCategory WHERE ParentID = 0 ORDER BY Name"));
            return this.DataTable;
        }


        public DataTable GetSubCategory(int catID)
        {
            this.FlushData();
            this.LoadFromRawSql(String.Format("SELECT * FROM SupplyCategory WHERE ParentID = {0} ORDER BY Name",catID));
            return this.DataTable;
        }
    }
}
